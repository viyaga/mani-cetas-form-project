(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3315:(e,t,i)=>{Promise.resolve().then(i.bind(i,6066))},6066:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>E});var r=i(5155),a=i(2115),s=i(2177),n=i(5594),o=i(221),l=i(2596),d=i(9688),c=i(6671);function u(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return(0,d.QP)((0,l.$)(t))}let m=(e,t)=>{"success"===t?c.o.success(e):c.o.error(e)};async function p(e){try{let t="".concat("https://prod-05.centralindia.logic.azure.com:443/workflows/88190902879844938d3f7b035a3f5e5d/triggers/manual/paths/invoke","?api-version=2016-06-01&sp=%2Ftriggers%2Fmanual%2Frun&sv=1.0&sig=").concat("MfkxpSPoqijaX8I61t1oqam6JRySCXYRagdIUU5GOug"),i=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})});return!!i.ok&&(await i.json()).emailExists}catch(e){return console.error("Email check error:",e),!1}}async function g(e){try{let t="".concat("https://prod-21.centralindia.logic.azure.com:443/workflows/f7f66b30e7fd48bb958f87b4709ac884/triggers/manual/paths/invoke","?api-version=2016-06-01&sp=%2Ftriggers%2Fmanual%2Frun&sv=1.0&sig=").concat("cB70JI-B5yysmOgU2jakbP1WEokKXQMzGT8XXpF7zmw"),i=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});i.ok?(m("Successfully submitted the form.","success"),clearForm()):m("Failed to submit: ".concat(await i.text()),"danger")}catch(e){console.error("Request Failed:",e),m("Request failed: ".concat(e.message),"danger")}}async function f(e){try{let t="".concat("https://prod-28.centralindia.logic.azure.com:443/workflows/7aef9d67eff3430fb4b0e3713645f1fa/triggers/manual/paths/invoke","?api-version=2016-06-01&sp=%2Ftriggers%2Fmanual%2Frun&sv=1.0&sig=").concat("DtrtGCDpDk7zC3joiwckej5SE-gCTkgii9D5GPAZsNM"),i=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})});i.ok?console.log("QR Code email sent successfully."):console.warn("QR email failed: ".concat(await i.text()))}catch(e){console.error("QR Email Error:",e)}}function h(e){let{className:t,type:i,...a}=e;return(0,r.jsx)("input",{type:i,"data-slot":"input",className:u("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...a})}var x=i(4624);let b=(0,i(2085).F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function v(e){let{className:t,variant:i,size:a,asChild:s=!1,...n}=e,o=s?x.DX:"button";return(0,r.jsx)(o,{"data-slot":"button",className:u(b({variant:i,size:a,className:t})),...n})}var y=i(7073);function w(e){let{className:t,...i}=e;return(0,r.jsx)(y.b,{"data-slot":"label",className:u("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...i})}function N(e){let{className:t,...i}=e;return(0,r.jsx)("div",{"data-slot":"card-content",className:u("px-6",t),...i})}var j=i(6413),k=i(760);let C=n.z.object({name:n.z.string().min(1,"Name is required"),email:n.z.string().email("Invalid email"),phone:n.z.string().regex(/^\d{10}$/,"Phone must be 10 digits"),gender:n.z.string().min(1,"Gender is required"),dob:n.z.string(),certificateNo:n.z.string().min(1,"Certificate No is required"),degree:n.z.string(),yop:n.z.string(),fresher:n.z.string(),relevantExp:n.z.string(),otherExp:n.z.string(),expertise:n.z.string(),currentCTC:n.z.string(),expectedCTC:n.z.string(),notice:n.z.string(),noticeDays:n.z.string(),noticeServingTill:n.z.string(),knownThrough:n.z.string(),resume:n.z.any().optional().refine(e=>!(null==e?void 0:e[0])||e[0].size<=2097152,"Resume must be under 2MB")}),z="multiStepFormData";function E(){var e;let[t,i]=(0,a.useState)(1),[n,l]=(0,a.useState)(null),{register:d,handleSubmit:c,formState:{errors:u},reset:x,watch:b,trigger:y,setValue:E}=(0,s.mN)({resolver:(0,o.u)(C),mode:"onChange"}),S=b(),F=async e=>{try{var r;if(t!==P.length)return;let a=null===(r=e.resume)||void 0===r?void 0:r[0];if(!a)return;if(a&&"application/pdf"!==a.type){m("Please upload a PDF file","error");return}if(await p(e.email)){m("Email already exists","error");return}let s=a?await new Promise((e,t)=>{let i=new FileReader;i.readAsDataURL(a),i.onload=()=>e(i.result.split(",")[1]),i.onerror=e=>t(e)}):null;await g({...e,resume:s}),await f(e.email),m("Form submitted!","success"),x(),l(null),i(1),localStorage.removeItem(z)}catch(e){m("Failed to submit the form","error")}},P=[{title:"Personal Info",fields:[["name","Name"],["email","Email"],["phone","Phone"],["gender","Gender"],["dob","Date of Birth","date"]]},{title:"Education & Experience",fields:[["certificateNo","10th Certificate No"],["degree","Education Qualification"],["yop","Year Of Passing"],["fresher","Fresher/Experienced"],["relevantExp","Relevant Experience"],["otherExp","Other Domain Experience"]]},{title:"Expertise & CTC",fields:[["expertise","Expertise"],["currentCTC","Current CTC"],["expectedCTC","Expected CTC"]]},{title:"Notice & Reference",fields:[["notice","Immediate Joiner / Notice Period"],["noticeDays","Notice Period - Days"],["noticeServingTill","Notice Period - Last Date"],["knownThrough","Known of Cetas through"]]},{title:"Resume Upload",fields:[]}],T=async()=>{let e=P[t-1].fields.map(e=>{let[t]=e;return t});await y(e)&&i(e=>Math.min(e+1,P.length))};return(0,a.useEffect)(()=>{let e=localStorage.getItem(z);e&&Object.entries(JSON.parse(e)).forEach(e=>{let[t,i]=e;"resume"!==t&&E(t,i)})},[E]),(0,a.useEffect)(()=>{let e={...S};delete e.resume,localStorage.setItem(z,JSON.stringify(e))},[S]),(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-[#1e1e2f] via-[#111113] to-[#0c0c0d] px-4 py-10",children:(0,r.jsx)(j.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.4},className:"w-full max-w-xl border border-white/10 rounded-2xl p-4 sm:p-6 backdrop-blur bg-white/5 shadow-2xl",children:(0,r.jsxs)(N,{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"text-center text-white",children:[(0,r.jsx)("img",{src:"https://i.ibb.co/CpZ0F5dk/Cetas-Logo-White.png",alt:"Cetas Logo",className:"mx-auto w-28 mb-3"}),(0,r.jsx)("h2",{className:"text-xl font-bold tracking-wide",children:P[t-1].title}),(0,r.jsxs)("p",{className:"text-sm text-gray-300",children:["Step ",t," of ",P.length]}),(0,r.jsx)("div",{className:"flex justify-center gap-2 mt-4",children:P.map((e,i)=>(0,r.jsx)("div",{className:"w-3 h-3 rounded-full transition-all duration-300 ".concat(i+1<t?"bg-green-400":i+1===t?"bg-white":"bg-gray-600")},i))})]}),(0,r.jsxs)("form",{onSubmit:c(F),className:"space-y-4",children:[(0,r.jsx)(k.N,{mode:"wait",children:(0,r.jsxs)(j.P.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3},className:"space-y-4",children:[P[t-1].fields.map(e=>{var t,i;let[a,s,n="text"]=e;return(0,r.jsxs)("div",{children:[(0,r.jsx)(w,{htmlFor:a,className:"text-white",children:s}),(0,r.jsx)(h,{id:a,type:n,placeholder:s,...d(a),className:"mt-2"}),u[a]&&(0,r.jsx)("p",{className:"text-red-400 text-sm mt-1",children:null===(i=u[a])||void 0===i?void 0:null===(t=i.message)||void 0===t?void 0:t.toString()})]},a)}),5===t&&(0,r.jsxs)("div",{children:[(0,r.jsx)(w,{htmlFor:"resume",className:"text-white",children:"Resume (PDF, Max 2MB)"}),(0,r.jsx)(h,{id:"resume",type:"file",className:"mt-2",accept:".pdf",...d("resume"),onChange:e=>{var t;let i=null===(t=e.target.files)||void 0===t?void 0:t[0];i&&"application/pdf"===i.type?l(URL.createObjectURL(i)):l(null)}}),n?(0,r.jsx)("embed",{src:n,type:"application/pdf",className:"w-full h-64 mt-3 border border-white/20 rounded-lg hidden sm:block"}):(0,r.jsx)("p",{className:"text-gray-400 text-sm mt-2",children:"No preview available"}),u.resume&&(0,r.jsx)("p",{className:"text-red-400 text-sm mt-1",children:null===(e=u.resume.message)||void 0===e?void 0:e.toString()})]})]},t)}),(0,r.jsxs)("div",{className:"flex justify-between gap-4 pt-4",children:[t>1?(0,r.jsx)(v,{type:"button",className:"btn-outline",onClick:()=>i(e=>e-1),children:"Back"}):(0,r.jsx)("div",{}),t<P.length?(0,r.jsx)(v,{type:"button",onClick:T,className:"ml-auto btn-primary",children:"Next"}):(0,r.jsx)(v,{type:"submit",className:"btn-primary",children:"Submit"})]})]})]})})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[671,301,441,684,358],()=>t(3315)),_N_E=e.O()}]);